<!--
  Generated template for the LoginPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Usuario y contraseña</ion-title>
  </ion-navbar>

</ion-header>



<ion-content padding>
  <div *ngIf="!cargar">
    <form (ngSubmit)="this.conectarApp(true)">
      <ion-grid text-center>
        <ion-row>
          <ion-col width-100>
            <div style="text-align: center">
              <img style="height: 100px" src="assets/imgs/logo.png" alt="Warehouse APP" />
            </div>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col width-100>
          
          <ion-list *ngIf="!cargar">
            <ion-item>
              <ion-label stacked>
                <span>Usuario</span>
              </ion-label>
              <ion-input type="email" [(ngModel)]="conexion.username" required name='username' placeholder="Ingresa Usuario"></ion-input>
            </ion-item>

            <ion-item>
              <ion-label stacked>
                <span>Contraseña</span>
              </ion-label>
              <ion-input type="password" [(ngModel)]="conexion.password" required name='password' placeholder="Ingresa Contraseña"></ion-input>
            </ion-item>

          </ion-list>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col width-100>
            <button ion-button full type="submit">
              <span>Login</span>
            </button>

          </ion-col>
        </ion-row>
        <ion-row>
            <ion-col width-100>
              <ion-item>
                  <ion-label>Datos del servidor</ion-label>
                  <ion-toggle [(ngModel)]="login_server" [ngModelOptions] = {standalone:true} ></ion-toggle>
              </ion-item>     
            </ion-col>
          </ion-row>
        <ion-row>
          <ion-col width-100>
            <ion-list *ngIf="login_server" >
              <ion-item>
                <ion-label stacked>
                  <span >URL</span>
                </ion-label>
                <ion-input [(ngModel)]="conexion.url" required name='url' placeholder="Ingresa url"></ion-input>
              </ion-item>
              <ion-item>
                <ion-label stacked>
                  <span >Port</span>
                </ion-label>
                <ion-input type="number" [(ngModel)]="conexion.port" required name='port' placeholder="Ingresa puerto"></ion-input>
              </ion-item>
              <ion-item>
                <ion-label stacked>
                  <span >Base de datos</span>
                </ion-label>
                <ion-input [(ngModel)]="conexion.db" required name='db' placeholder="Ingresa base de datos"></ion-input>
              </ion-item>
            </ion-list>
          </ion-col>
        </ion-row>
      </ion-grid>

    </form>
  </div>

  <div *ngIf="cargar" style="text-align: center">
    <ion-spinner name="circles"></ion-spinner>
    <br>
    <b>Verificando...</b>
  </div>

</ion-content>
